<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl"
      crossorigin="anonymous"
    />
    <title>Temas para Worpress</title>
  </head>
  <body>
        <!-- Navbar -->
     <div class="container-fluid bg-dark">  <!--2-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark container"><!--2-->
            <div class="container-fluid">
              <a class="navbar-brand" href="#">
                <img src="https://getbootstrap.com/docs/5.0/assets/brand/bootstrap-logo.svg" alt="" width="30" height="24"><!--5-->
                + Wordpress
              </a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0 nav text-center"> <!--4-->
                  <li class="nav-item">
                    <a class="nav-link" href="plantilla.html">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="implementacion.html">Implementación</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">Link</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">Link</a>
                  </li>
                </ul>
              </div>
            </div>
          </nav>
    </div>
    <!-- Fin navbar -->
    <div class="container">
      <h1>Integración en Wordpress</h1>
      <a href="https://developer.wordpress.org" target="_blank">Doc 📄✅</a>
      
      <hr>
      <div><!--- Add to Themes-->
            <h3>Agregar Plantilla HTML como tema</h3>
            <p>En esta seccion instalaremos la plantilla estatica como tema de wordpress</p>
            <ol>
              <li>Instalamos Wordpress</li>
              <li>Nos dirigimos la carpeta donde se instalo worpress luego wp-contents/themes</li>
              <li>Creamos una nueva carpeta con el nombre del tema (tema-1)</li>
              <li>Ahora copiamos los archivos del tema estatico y los copiamos en la carpeta estatica</li>
              <li>Cambiamos el nombre del index.html a index.php</li>
              <li>Copiamos los <a href="https://developer.wordpress.org/themes/basics/main-stylesheet-style-css/" target="_blank">comentarios</a> 
                de wordpress para la hoja de estilos principal y los pegamos al inicio del archivo style.css</li>
             <li>Modificamos los comentarios pegados de acuerdo a la informacion de nuestro tema, ya que con este 
                 archivo se identifica el tema (las licencias se pueden eliminar si no es tema comercial)</li>
            <li>Verificamos en el administrador de temas de wordpress y ya aparece nuestro tema sin miniatura </li>
            <li>el style.css debe estar en la raiz del tema junto al index.php para lo detecte wordpress</li>
            <li>Al ver detalles del tema podemos ver la informacion que se agrego en style.css</li>
            <li>Presionamos activar y ya podemos probar el tema en el sitio web, en este punto solo se visualizara la estructura HTML</li>
            </ol>
          </div><!---Add a Themes-->
          
          <div><!-- Template Tags -->
            <h3>Template Tags </h3>
            <a href="https://developer.wordpress.org/themes/basics/template-tags/" target="_blank">Doc 📄✅</a><br><br>
            
            <p>Esta herramientas permiten incrustrar contenido de forma dinamica en cualquier lugar del tema de wordpress </p>
            <p>En esta seccion se va a dividir el index.php en 3 archivos header.php, entradas.php,footer.php y con los templete tag 
              vamos llamando cada uno desde el index. Tambien agregaremos en la raiz el archivo 📷screenshot.png de medidas (1200x900) que sera la miniatura del tema
            </p>
            <ol>
              <li>Creamos un archivo header.php y otro footer.php</li>
              <li>Vamos al index.php seleccionamos desde el inicio del archivo hasta el final del comentario fin suscribir y lo cortamos</li>
             
              <h4>header.php</h4>
              <li>Abrimos header.php y pegamos el codigo cortado</li>
              <li>Para llamar el header.php, abrimos el index.php y al inicio del archivo abrimos y cerramos etiquetas de php y 
                entre ellas usamos el template tag get_header();</li>
              <li>Para agregar la ruta de los estilos al header.php podemos utilizar el template tag <u>bloginfo('template_url');</u> esto nos muestra la ruta donde 
                esta ubicado nuestro sitio web. Lo podemos probar imprimiendolo con un echo de php</li>
              <li>Agregamos el template tag del punto anterior con sus etiquetas php en el atributo href: y luego concatenamos la ruta de los archivos y listo agregados los estilos css</li>
              <li>Si no toma los estilos CSS personalizados loss copiamos y los pegamos dentro de una nueva etiqueta style en el head del header.php</li>
              
              <h4>footer.php</h4>
              <li>Para editar el footer.php seleccionamos en el archivo index.php desde el inicio del comentario hasta el final
                del archivo y cortamos
              </li>
              <li>Abrimos el footer.php y pegamos el codigo cortado</li>
              <li>Lo llamamos de la misma forma que se llamo el header.php pero esta vez, 
                se agrega al final del index y se usa el template tag get_footer();</li>
              <li>El menu no funciona de forma correcta en responsive porque no esta enlazado el js de bootstrapt, para resolverlo en footer.php agregamos los
                archivo js de bootstrap de la misma forma que se agregaron los estilos, pero esta vez en el atriburo src
              </li>

              <h4>Navbar (menu)</h4>
              <li>Regresamos al archivo header.php e identificamos el div que contiene el navbar en este caso tiene la clase de bootstrapt collapse navbar-collapse</li>
              <li>Depues del cierre del div abrimos etiquetas php, para iniciar y crear este menu de forma dinamica</li>
              <li>Agregamos el template tag donde cada item representa una parte del menu estatico segun la estructura ya definida</li>
                <pre class="bg-dark text-light p-3">
wp_nav_menu(array(
'theme_location'=>'',
'container'=>'div',
'container_class'=>'collapse navbar-collapse',
'container_id'=>'navbarSupportedContent',
'items_wrap'=>'ul completo con este codigo (%3$s) dentro de las 2 tag para los li',
'menu_class'=>'nav-item'));
              </pre>
              <li>Borramos el codigo estatico del contenedor ppal el de la clase identificada anteriormente, y solo dejamos el menu dinamico ya que son iguales</li>
              <li>Para que el menu funcione correctamente nos hace falta agregar la clase <u>nav-link</u> al ancla (a) dentro del li, esto no se puede agregar con los
                parametros de wordpress escritos en los puntos anteriores
              </li>
              <li>Para añadirla creamos un nuevo archivo functions.php, abrimos el archivo y abrimos etiquetas de php</li>
              <li>Escribimos el comentarios aqui creo mi menu, y abrimos un condicional if</li>
              <pre  class="bg-dark text-light p-3">
if(function_exists('register_nav_menus')){
  register_nav_menus(array('superior'=>'Menu Principal superior'))

}
              </pre>
              <li>Validamos si existe la funcion resgister_nav_menus, si existe ejecutamos register_nav_menus con el array de todos los menus</li>
              <li>Los menus se muestran en el orden: nombre => nombre que aparecera en wordpress, el primer nombre se debe agregar en el menu dinamico en el item theme_location=>'nombre'</li>
              <li>Ya nos aparece la seccion de menus de worpress y ahi ya podemos crear nuevo un menu y ver la estructura personalizada y el nombre creado</li>
              <li>El ancla (a) no tiene estilo porque no se ha agregado la clase de bootstrapt dinamicamente, para adicionarla vamos al archivo functions.php</li>
              <li>Usamos la funcion add_filter() de wordpress y le pasamos el parametro 'nav_menu_link_attributes','clase_menu_invento',10,3 y cerramos</li>
              <li>A continuacion creamos la funcion inventada, que debe recibir 3 parametros($atts,$item,$args)</li>
              <li>Dentro de la funcion a la variable class le asignamos el valor 'nav-link' que seria la clase a añadir</li>
              <li>a continuacion manipulamos el parametro $atts de la siguiente forma  $atts['class']=$class</li>
              <li>A continuacion returnamos $atts y listo,el ancla ya tomo la clase de bootstrap de forma dinamica</li>
            </ol>
            
          </div><!-- FinTemplate Tags -->
         
         
          <div><!-- Loop Wordpress -->
            <h3>Loop Entradas</h3>
            <a href="https://developer.wordpress.org/themes/basics/the-loop/" target="_blank">Doc 📄✅</a>
            <p>En esta seccion vamos configurar la forma de mostrar las entradas de blog de forma dinamica</p>
            <ol>
              <li>Vamos al index.php y dejamos solo un articulo de los 3 articulos estaticos ya creados</li>
              <li>Vamos a la documentacion Loop de wordpress copiamos el script de ejemplo </li>
              <pre class="bg-dark text-light p-3">
if ( have_posts() ) : // Verifica si tenemos post
    while ( have_posts() ) : the_post();  // Mientras existan post, muestra post
         // Display post content //Configuraciones dinamicas del articulo (What the Loop Can Display)
    endwhile; 
endif; 
              </pre>
              <li>Nuevamente en el index.php agregamos la apertura de los condicionales php al inicio del blog 
                estatico y las llaves de cierre al final del bloque, despues del cierre del blog estatico</li>
              <li>Remplazamos el contenido estatico por las etiquetas php de contenido dinamico de wordpress de la siguiente forma</li>
              <pre class="bg-dark text-light p-3">
Categoria > the_category();
Autor > the_author();
Fecha > echo get_the_date();
Titulo > the_title();
Estracto > the_excerpt();

link a entrada > the_permalink(); //para titulo
               </pre>
               <li>Para añadir un link dinamico al titulo lo encerramos dentro de un ancla (a) y en  href entre etiquetas php 
                 agregamos la ultima etiqueta dinamica the_permalink();</li>
              <li>Con esto ya se debe mostrar los articulos de forma dinamica en wordpress</li>
              <li>En caso de que los articulos tengan multiples categorias, tendremos un problema de separacion, para 
                resolverlo lo solucionamos agregando (',') comillas simples y un coma dentro de la tag de categorias</li>
              <li>Para probar creamos una nueva entrada y una nueva categoria a la que la agregaremos esa entrada y a esa le copiamos el mismo estracto 
                de la entradaque viene por defecto
              </li>

              <h4>Imagen destacadas(Post Thumbnails)</h4>
              <a href="https://developer.wordpress.org/themes/functionality/featured-images-post-thumbnails/" target="_blank">Doc 📄✅</a>
              <li>El soporte para las imagenes destacadas se agregan en el archivo funtion.php de acuerdo a la documentacion, si no se agregan 
                el tema no soportara estas imagenes</li>
              <li>De la documentacion copiamos el bloque de código ejemplo de add tamaños personalizados, esto para agregar la imagen destacada sin link</li>
              <pre class="bg-dark text-light p-3">
if ( function_exists( 'add_theme_support' ) ) { //si existe soporte para imagenes
  add_theme_support( 'post-thumbnails' ); // Agrega las imagenes
  set_post_thumbnail_size( 150, 150, true ); // tamaño de la imagen

  // additional image sizes
  // delete the next line if you do not need additional image sizes
  add_image_size( 'category-thumb', 300, 9999 ); // 300 pixels wide (and unlimited height)
}
              </pre>
              <li>Vamos al function.php y pegamos el codigo al final del archivo y agregamos un comentario "Agg img destacada " al inicio para 
                identificar lo que hace el bloque de código
              </li>
              <li>Del codigo pegado solo conservamos las 2 primeras líneas, ya que las demas líneas son para los tamaños de 
                las imagenes pero estas no son necesarias porque se manejaran con Bootstrap y css</li>
              <li>Guardamos y vamos al index.php y copiamos las clases de la etiqueta imagen (img) y luego borramos toda la etiqueta</li>
              <li>La imagen dinamica debe tener un enlace a la entrada, por lo tanto la encerraremos en un ancla, de la misma forma que el titulo (P5)</li>
              <li>Dentro del ancla abrimos etiquetas php y llamamos a la imagen destacada con el siguiente código de la documentacion</li>
              <li>De la documentacion copiamos el bloque de codigo donde se incluye la imagen destacada y lo pegamos tentro del ancla</li>
              <pre class="bg-dark text-light p-3">
// check if the post or page has a Featured Image assigned to it.
if ( has_post_thumbnail() ) {//
  the_post_thumbnail();
}
              </pre>
              <li>Para agregar las clases borradas de forma dinamica, a la etiqueta the_post_thumbnail le pasamos los parametros 
                como se muestra en el ejemplo de la documentacion, este ejemplo esta ubicado en la parte superior al código del bloque anterior
              </li>
              <pre class="bg-dark text-light p-3">
the_post_thumbnail( 'post-thumbnail', array( 'class' => 'alignleft' ) );
              </pre>
              <li>El primer parametro se debe llamar igual que el parametro de la etiqueta add_theme_support en el funtion.php por lo 
                tanto se copia y se remplaza</li>
              <li>En el valor del del primer item (class) del array pegamos la clase a incrustar, en este caso la copiada en P13 </li>

          </div> <!-- END Loop Wordpress -->
          
          <!-- Page.php y single.html -->
          <div>
            <h3>Pagina entradas y de paginas(single.php,page.php))</h3>
            <p>En esta seccion se agrega de forma dinamica, la pagina de aterrizaje de las páginas del menu y de las entradas de blog</p>
            
            <h4>page.php (template para paginas)</h4>
            <ol>
              <li>En este caso abrimos el archivo page.html y cambiamos la extension a page.php</li>
              <li>Borramos el codigo del header estatico y lo agregamos de forma estatica con la etiqueta get_header, 
                en este caso se borra hasta el comentario fin suscribir
              </li>
              <li>Realizamos el mismo paso anterior con el footer</li>
              <li>Para mostrar el contenido de forma dinamica es necesario agregar el loop de wordpress (P2 Seccion Loop). Lo abrimos antes 
                del titulo y lo cerramos al final del div del parrafo

              </li>
              <li>Remplazamos el contenido estatico del H2, por dinamico con la opcion the_title() de wordpress</li>
              <li>Los parrafos (p) estaticos los borramos ya que wordpress los genera automaticamente.Ahora Insertamos el parrafo de forma dinamica 
                con la etiqueta de wordpress the_content();</li>
              <li>Si queremos probar con una nueva pagina, la creamos y la añadimos al menu y ahi se puede visualizar</li>

              <h4>single.php (template entradas de blog)</h4>
              <li>Abrimos el archivo single.html y cambiamos la extension a .php</li>
              <li>Agregamos el header y footer de forma dinamica</li>
              <li>Para agregar el contenido de forma dinamica agregamos el loop de wordpress debajo del 
                comentario articulo (P4)</li>
              <li>Remplazmos los valores estaticos por los valores dinamicos con las etiquetas de wordpress,
                podemos tomar como ejemplo, la forma como se muestran las entradas en archivo index.php
              </li>
              <li>El contenido se llama con la etiqueta the_content();</li>
              <li>A la imagen estatica le quitamos la clase pasada como parametro y solo dejamos img-fluid</li>

            </ol>

          </div>
          <!-- Fin Page.php y single.html -->

          <!-- Sidebar.php  -->
          <diV>
            <H3>Sidebar.php (Espacio para widgets)</H3>
            <a href="https://developer.wordpress.org/themes/functionality/sidebars/" target="_blank">Doc 📄✅</a>
            <a href="https://developer.wordpress.org/reference/functions/dynamic_sidebar/" target="_blank">Doc 2️⃣📄✅</a>
            <p>El sidebar es la seccion donde se pueden arrastrar, los widgets, en esta seccion vamos a ver como implementarlo de forma dinamica</p>
            <ol>
              <li>Primero se debe crear un nuevo archivo sidebar.php</li>
              <li>Vamos al single.php y cortamos los div hijos o sidebar y dejamos unicamente el div contenedor padre, porque este es el que
                hace responsive el sidebar
              </li>
              <li>Pegamos los widgets cortados en el sidebar.php</li>
              <li>De forma dinamica llamamos al archivo sidebar.php usando el template tag get_sidebar() dentro del contenedor padre dejado en single.php</li>
              <li>Vamos a hacer que el archivo sidebar.php funcione de forma dinamica, para ello debemos agregar el sidebar al archivo function.php</li>
              <li>En el function.php agregamos el comentario agregando sidebar,justo debajo de todo el codigo ya creado, esto  para identificar que hace  este bloque de codigo </li>
              <li>Vamos a la documentacion en el apartado sidebar y copiamos el ejemplo</li>
              <li>Pegamos el ejemplo copiado debajo de los comentarios</li>

            </ol>
          </diV>

          
          <figure><img src="images/start.png" alt="" width="800"></figure>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
  </body>
</html>
